(()=>{var e={54:e=>{e.exports={elementDictionary:(e,r)=>{const t=r||(e=>e),s={};for(let r=0;r<e.length;r++){const n=e[r];s[n]=document.querySelector(`#${t(n)}`)}return s},setElDictItemVisible:(e,r,t)=>{e[t]&&Object.keys(e).forEach((s=>{e[s].classList.toggle(r,s===t)}))}}},6:e=>{const r=new TextEncoder,t=new TextDecoder;e.exports={wsPort:443,wsHeaders:{newClient:{joinAsRoom:0,joinAsNewStar:1,joinAsReturningStar:2},serverToWebApp:{errorMsg:0,joinSuccess:1}},makeWsMsg:(e,t)=>r.encode(JSON.stringify({header:e,data:t})),parseWsMsg:e=>JSON.parse(t.decode(e))}}},r={};function t(s){var n=r[s];if(void 0!==n)return n.exports;var o=r[s]={exports:{}};return e[s](o,o.exports,t),o.exports}(()=>{const{elementDictionary:e,setElDictItemVisible:r}=t(54),{wsPort:s,wsHeaders:n,makeWsMsg:o,parseWsMsg:a}=t(6),i=`ws://${window.location.hostname}:${s}`;let c={},l={};const d=e=>{r(c,"activeScreen",e)};window.onload=()=>{c=e(["start","personalityQuiz","star","error"],(e=>`${e}Screen`)),l=e(["createStarBtn","simulateRoomBtn","placeholderStarDisplay","errorMessage","exitErrorScreenBtn"]);const r=e=>{l.createStarBtn.disabled=e,l.simulateRoomBtn.disabled=e},t=()=>{r(!1),l.errorMessage.innerHTML="Connection lost.",d("error")};l.createStarBtn.onclick=()=>{r(!0);const e=new WebSocket(i);e.binaryType="arraybuffer",e.addEventListener("open",(()=>{e.send(o(n.newClient.joinAsNewStar,{sampleQuestion:"Sample Answer"}))})),e.addEventListener("close",t);const s=o=>{const{header:i,data:c}=a(o.data);e.removeEventListener("message",s),i===n.serverToWebApp.errorMsg?(r(!1),l.errorMessage.innerText=c,d("error"),e.removeEventListener("close",t),e.close()):i===n.serverToWebApp.joinSuccess&&(l.placeholderStarDisplay.innerText=JSON.stringify(c),d("star"))};e.addEventListener("message",s)},l.exitErrorScreenBtn.onclick=()=>d("start")}})()})();