(()=>{var a,t,e,r,s,n,i,o,u,d,h,f,c,l,v,p,M,g,x={899:a=>{var t=360,e=360,r=[0,0,t,e],s=[t,0,t,e],n=[0,e,t,e],i=[t,e,t,e];a.exports={maskOffset:0,changeableValueMapOffset:1,changeableMaskOffset:2,alphaOffset:3,bytesPerPixel:4,byteMax:255,vidPartWidth:t,vidPartHeight:e,vidWidth:720,vidHeight:720,bytesPerVidPart:518400,vidFrameDurationMs:1e3/30,albedoBounds:r,shadingBounds:s,specularBounds:n,grayscalesBounds:i,saturationRadius:.25,valueRadius:.125,valueRange:.75,starCanvasWidth:360,starCanvasHeight:360,starCanvasWidthHalf:180,starCanvasHeightHalf:180,starMinWidth:240,starMinHeight:240,starMinX:60,starMinY:60,starMaxWidth:320,starMaxHeight:320,starMaxX:20,starMaxY:20}},287:a=>{var t=function(a){return Math.max(0,Math.min(a,1))};a.exports={px:function(a){return"".concat(a,"px")},percent:function(a){return"".concat(parseInt(a,10),"%")},lerp:function(a,t,e){return a+(t-a)*e},clamp01:t,hueToRGB:function(a){var e=6*a;return[Math.abs(e-3)-1,2-Math.abs(e-2),2-Math.abs(e-4)].map(t)},vectorLengthNoSqrt:function(a){return a.map((function(a){return a*a})).reduce((function(a,t){return a+t}))}}}},b={};function y(a){var t=b[a];if(void 0!==t)return t.exports;var e=b[a]={exports:{}};return x[a](e,e.exports,y),e.exports}a=y(899),t=a.maskOffset,e=a.changeableValueMapOffset,r=a.changeableMaskOffset,s=a.alphaOffset,n=a.bytesPerPixel,i=a.byteMax,o=a.vidPartWidth,u=a.vidPartHeight,d=a.bytesPerVidPart,h=a.saturationRadius,f=a.valueRadius,c=a.valueRange,l=y(287),v=l.lerp,p=l.hueToRGB,M=new ImageData(o,u),g=M.data,onmessage=function(a){for(var o=a.data,u=o.color,l=o.shade,x=o.albedoBytes,b=o.shadingBytes,y=o.specularBytes,P=o.grayscalesBytes,m=2*l*Math.PI,B=h*(1-Math.cos(m)),H=p(u).map((function(a){return a+B*(1-a)})),O=(f*Math.sin(m)+f)*i,R=0;R<d;R+=n){for(var W=P[R+e],k=P[R+r]/i,C=0;C<s;C++){var V=R+C;g[V]=v(x[V],(O+c*W)*H[C],k)*(b[V]/i)+y[V]}g[R+s]=P[R+t]}postMessage(M)},console.log("Composite worker ready!")})();